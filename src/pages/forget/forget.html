<ion-header>
  <ion-navbar hideBackButton> 
  <ion-buttons left>
   <button ion-button (click)="credentialLoginPage()">
    <ion-icon class="customIcon" name="arrow-back"></ion-icon>
    </button>
  </ion-buttons> 
    <ion-title><p style="font-size: 14px;">{{"forgetPassword"|translate}}</p></ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding center text-center class="forget_container">
  <form [formGroup]="forgetFormGroup">
    <ion-list inset>
    <ion-item style="padding:0px !important; font-size: 14px;margin-top:-2px;background:none;border-bottom:1px solid white;box-shadow:none;">
    <div item-content style="display: flex; justify-content: space-between; width: 100%">
    <ion-select style="flex-grow: 0; text-align: left;width:40%"   [(ngModel)]="countryCode" formControlName="countryCode">
    <ion-option value="cn">+86</ion-option>
    <ion-option value="us">+1</ion-option>
    <ion-option value="in">+91</ion-option>
    </ion-select>
    <ion-icon style="flex-grow: 0; text-align:left;" name="phone-portrait" item-start></ion-icon> 
    <div style="flex-grow: 1; text-align: center">
    <ion-input autofocus clearInput type="tel" class="form-control" name="phoneNumber" [(ngModel)]="phoneNumber" 
    formControlName="phoneNumber" placeholder="{{'enterMobileNumber'|translate}}"></ion-input>     
    </div>
    </div>                
    </ion-item>
    <ion-item class="forget_rounded">
    <div item-content style="display: flex; justify-content: space-between; width: 100%">
    <ion-icon  item-start style="flex-grow: 0;" name="text"></ion-icon>
    <div style="flex-grow: 1; text-align: center"> 
    <ion-input   clearInput type="text" class="form-control" name="verificationCode" [(ngModel)]="verificationCode" 
    formControlName="verificationCode" placeholder="{{'enterOTP'|translate}}"></ion-input>  
    </div>
     <button ion-button   small outline round color="danger" type="button" (click)="getVerificactionCode(countryCode,phoneNumber)">
    <p id="displayDiv" style="flex-grow: 0; text-align: right;font-size: 10px;text-transform: none; width:40px; text-align: center;"></p>  
    </button>
    </div>
  </ion-item>

<ion-item class="forget_rounded">
<div item-content style="display: flex; justify-content: space-between; width: 100%">
        <ion-icon item-start style="flex-grow: 0;" name="lock"></ion-icon>
        <div style="flex-grow: 1; text-align: center"> 
                <ion-input  clearInput type="{{type}}" class="form-control" name="password" [(ngModel)]="password" 
                formControlName="password" placeholder="{{'enterPassword'|translate}}"></ion-input>
        </div>
        <button *ngIf="!showPass" ion-button clear color="dark" type="button" item-right (click)="showPassword()"> <ion-icon style="flex-grow: 0"  name="ios-eye-off-outline"></ion-icon></button>
        <button *ngIf="showPass" ion-button clear color="dark" type="button" item-right (click)="showPassword()"> <ion-icon style="flex-grow: 0"  name="ios-eye-outline"></ion-icon></button>
        </div> 
    </ion-item>
    <div *ngIf="forgetFormGroup.controls.password.hasError('pattern') &&
    (forgetFormGroup.controls.password.dirty || submitted)"
    class="validator-error">
    {{ "enterValidPassword" | translate }}
    </div>
    <ion-item class="forget_rounded">
    <div item-content style="display: flex; justify-content: space-between; width: 100%">
    <ion-icon name="text" item-start style="flex-grow: 0;"></ion-icon>
    <div style="flex-grow: 1; text-align: center"> 
    <ion-input  clearInput type="text" class="form-control" name="typeCaptcha" [(ngModel)]="typeCaptcha" 
    formControlName="typeCaptcha" placeholder="{{'enterLetters'|translate}}" ></ion-input>
    </div>
    <ion-icon style="flex-grow:0;" name="ios-refresh-circle-outline"  (click)="doRefreshCaptcha()">
    </ion-icon>
    <div style="flex-grow:0;">
            {{captcha}}
    </div>
    </div>
    </ion-item>
    </ion-list>
    <div style="text-align: center; position:relative;width:95%; height:auto;text-transform: none;margin-top:0vh;margin-bottom: 0vh;">
    <button ion-button full round block icon-left style="background:linear-gradient(to right,#ff7f50 ,#ffb296);text-transform: none;" type="submit" (click)="doValidateSubmitForget()"   [disabled]="!forgetFormGroup.valid" >
    <ion-icon ios="ios-help" md="md-help"></ion-icon>{{"resetPassword"|translate}}</button>
        </div>
 </form>
</ion-content>
